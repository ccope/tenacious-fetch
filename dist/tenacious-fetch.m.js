var t=1e3,e=!1;try{e=window&&window.fetch}catch(t){}export default function(r,n){void 0===r&&(r=""),void 0===n&&(n={});var o=(n=Object.assign({retries:1,retryDelay:t,retryStatus:[],fetcher:e,timeout:void 0},n)).retries,i=n.retryDelay,u=n.retryStatus,c=n.fetcher,f=n.timeout;if(!c||"function"!=typeof c)throw new Error("tenacious-fetch: No fetch implementation found. Provide a valid fetch implementation via the fetcher configuration property.");function a(t,e,r){var n=t;return new Promise(function(t,o){function f(){c(e,r).then(function(e){u.includes(e.status)?n>0?a():o(e):t(e)}).catch(function(t){n>0?a():o(t)})}function a(){n--,setTimeout(f,i)}f()})}return"string"==typeof u&&(u=[u]),f&&Number.isInteger(f)?Promise.race([a(o,r,n),new Promise(function(t,e){return setTimeout(function(){return e(new Error("tenacious-fetch: Request took longer than timeout of "+f+" ms."))},f)})]):a(o,r,n)};
//# sourceMappingURL=tenacious-fetch.m.js.map
